(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{192:function(e,t,a){},195:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(0),o=a.n(r),s=a(48),l=a.n(s),i=(a(81),a(1)),c=a(2),u=a(4),d=a(3),h=a(5),p=a(6),m=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.hideNavBar()}},{key:"render",value:function(){return o.a.createElement("div",{className:"landing"},o.a.createElement("div",{className:"blurb"},"a modular financial dashboard to monitor ",o.a.createElement("br",null)," trends, trade equities, and track performance"),o.a.createElement("div",{className:"landing-buttons"},o.a.createElement(p.b,{className:"landing-link",activeStyle:{color:"white"},to:"/login"},"ENTER ACCOUNT"),o.a.createElement(p.b,{className:"landing-link",activeStyle:{color:"white"},to:"/equities"},"EXPLORE EQUITIES")))}}]),t}(r.Component),b=a(10),f=(a(86),a(7)),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={firstname:"",lastname:"",username:"",password:"",email:"",passwordConfirmation:""},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),fetch("".concat(a.props.url,"/api/v1/login"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):(a.props.setCurrentUser(e.user.id),localStorage.setItem("jwt",e.jwt),a.props.history.push("/dashboards"))})},a.handleCreateAccount=function(e){if(e.preventDefault(),""===a.state.firstname||""===a.state.lastname||""===a.state.username||""===a.state.password||""===a.state.passwordConfirmation)alert("please fill out all fields");else if(a.state.password===a.state.passwordConfirmation){var t={first_name:a.state.firstname,last_name:a.state.lastname,email:a.state.email,username:a.state.username,password:a.state.password};a.fetchCreateUser(t)}else alert("passwords don't match")},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.hideNavBar()}},{key:"fetchCreateUser",value:function(e){var t=this;fetch("".concat(this.props.url,"/api/v1/users"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):(t.props.setCurrentUser(e.user.id),localStorage.setItem("jwt",e.jwt),t.props.history.push("/dashboards"))})}},{key:"renderLoginForm",value:function(){return o.a.createElement("div",{className:"login"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("br",null),o.a.createElement("table",{className:"login-table"},o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Username ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.username,name:"username",onChange:this.handleChange,type:"text"})," ")),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Password ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.password,name:"password",onChange:this.handleChange,type:"password"})))),o.a.createElement("button",{className:"login-btn"},"login"),o.a.createElement("div",{className:"login-div"},o.a.createElement("span",null," don't have an account? "),o.a.createElement(p.b,{className:"sm-link",to:"/login/signup"},"create an account"))))}},{key:"renderSignupForm",value:function(){return o.a.createElement("div",{className:"login"},o.a.createElement("form",{onSubmit:this.handleCreateAccount},o.a.createElement("table",{className:"signup-table"},o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," First Name ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.firstname,name:"firstname",onChange:this.handleChange,type:"text"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Last Name ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.lastname,name:"lastname",onChange:this.handleChange,type:"text"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Email ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.email,name:"email",onChange:this.handleChange,type:"text"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Username ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.username,name:"username",onChange:this.handleChange,type:"text"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Password ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.password,name:"password",onChange:this.handleChange,type:"password"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",null," Confirm Password ")),o.a.createElement("td",null,o.a.createElement("input",{value:this.state.passwordConfirmation,name:"passwordConfirmation",onChange:this.handleChange,type:"password"})))),o.a.createElement("br",null),o.a.createElement("button",{className:"login-btn",onClick:this.handleCreateAccount}," create account ")),o.a.createElement("br",null),o.a.createElement(p.b,{className:"sm-link",to:"/login"},"go back to login"))}},{key:"render",value:function(){return o.a.createElement("div",{className:"landing-login"},this.props.view?this.renderSignupForm():this.renderLoginForm())}}]),t}(r.Component);var v=Object(f.b)(function(e){return{url:e.url}})(E),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},addMoney:!1,amount:0,edit:!1},a.toggleModal=function(e){var t=e.target.name;a.setState(function(e){return Object(b.a)({},t,!e[t])})},a.enterAmount=function(e){a.setState({amount:e.target.value})},a.updateAccountBalance=function(e){e.preventDefault();var t={account_balance:Math.round(100*(parseFloat(a.props.portfolio.account_balance)+parseFloat(a.state.amount)))/100};fetch("".concat(a.props.url,"/api/v1/portfolios/").concat(a.props.portfolio.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){a.setState({addMoney:!1,amount:0}),a.props.dispatch({type:"SET_PORTFOLIO",payload:e}),a.props.dispatch({type:"SET_ACCOUNT_BALANCE",payload:e.account_balance})})},a.renderAddMoney=function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content-sm"},o.a.createElement("button",{className:"close",name:"addMoney",onClick:a.toggleModal},"X"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("form",{onSubmit:a.updateAccountBalance},o.a.createElement("label",null,"enter amount you wish to add to your account"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"input-field-light",onChange:a.enterAmount,type:"text",value:a.state.amount}),o.a.createElement("br",null),o.a.createElement("br",null),isNaN(a.state.amount)?o.a.createElement("h6",null," please enter a valid amount "):o.a.createElement("input",{className:"search-btn",type:"submit",value:"update account"}))))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.hideNavBar(),fetch("".concat(this.props.url,"/api/v1/users")).then(function(e){return e.json()}).then(function(t){var a=t.find(function(t){return t.id===e.props.user_id});e.setState({user:a})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"landing-plain"},o.a.createElement("div",{className:"account-details"},o.a.createElement("label",null," profile "),o.a.createElement("table",{className:"account-table"},o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"first name: "),o.a.createElement("td",{className:"account-data"}," ",this.state.user.first_name," ")),o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"last name: "),o.a.createElement("td",{className:"account-data"}," ",this.state.user.last_name," ")),o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"username: "),o.a.createElement("td",{className:"account-data"}," ",this.state.user.username," ")),o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"email: "),o.a.createElement("td",{className:"account-data"}," ",this.state.user.email," "))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null," account statistics "),o.a.createElement("table",{className:"account-table"},o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"active portfolio: "),o.a.createElement("td",{className:"account-data"}," ",this.props.portfolio.subportfolios&&0===this.props.portfolio.subportfolios.length?"no":"yes"," ")),o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"open trades: "),o.a.createElement("td",{className:"account-data"}," ",!!this.props.portfolio.subportfolios&&this.props.portfolio.subportfolios.filter(function(e){return!e.date_sold}).length," ")),o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"},"dashboards: "),o.a.createElement("td",{className:"account-data"}," ",this.props.dashboards.length-1," ")),o.a.createElement("tr",null,o.a.createElement("td",{className:"account-label"}," account balance: "),o.a.createElement("td",{className:"account-data"}," $",this.props.accountBalance.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{className:"trade-btn",name:"addMoney",onClick:this.toggleModal}," add money to your account "),this.state.addMoney?this.renderAddMoney():null))}}]),t}(r.Component);var g=Object(f.b)(function(e){return{user_id:e.user_id,dashboards:e.dashboards,portfolio:e.portfolio,portfolioEquities:e.portfolioEquities,accountBalance:e.accountBalance,url:e.url}})(y),N=a(13),k=a(22),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"eq-chart"},o.a.createElement(k.a,{data:this.props.data,legend:this.props.legend,options:this.props.options,height:this.props.height}))}}]),t}(r.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{labels:[],datasets:[{label:"",pointBorderColor:"rgb(255,255,255,0)",lineTension:0,data:[]}]},legend:{display:!1},options:{scales:{xAxes:[{ticks:{display:!1,fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}],yAxes:[{ticks:{fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}]}},stats:{},showTradeForm:!1,currentPrice:"",quantity:0,addEquityId:0,addDashboardId:0,addedToDashboard:!1},a.setDatapoints=function(e){var t=e.map(function(e){return e.average&&e.average>-1?e.average:e.marketAverage&&e.marketAverage>-1?e.marketAverage:void 0}),n=e.map(function(e){return e.label});a.setState({data:{labels:n,datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",borderColor:"#2bcbba",data:t}]}})},a.showProfile=function(){a.props.dispatch({type:"SEARCH_EQUITY",payload:a.props.companyName.toLowerCase()})},a.trade=function(){a.setState({showTradeForm:!0})},a.closeTradeForm=function(){a.setState({showTradeForm:!1})},a.handleTrade=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleDirection=function(e){"sell"===e.target.value?a.setState(function(e){return{quantity:-e.quantity}}):a.setState(function(e){return{quantity:Math.abs(e.quantity)}})},a.addEquityId=function(e){a.setState({addEquityId:a.props.id,addDashboardId:e.target.value})},a.addToDashboard=function(){var e={dashboard_id:parseInt(a.state.addDashboardId),equity_id:a.state.addEquityId};fetch("".concat(a.props.url,"/api/v1/equity_dashboards"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.setState({addEquityId:0,addDashboardId:0,showTradeForm:!1,addedToDashboard:!0})})},a.addToPortfolio=function(){var e={portfolio_id:a.props.portfolio.id,equity_id:a.props.id,initial_px:parseFloat(a.state.currentPrice),date_bought:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),quantity:parseFloat(a.state.quantity),initial_value:parseFloat(Math.round(a.state.quantity*a.state.currentPrice*100)/100)};fetch("".concat(a.props.url,"/api/v1/subportfolios"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.props.dispatch({type:"SET_PORTFOLIO_EQUITIES",payload:[].concat(Object(N.a)(a.props.portfolioEquities),[e])}),a.updateAccountBalance(e.initial_value,e)})},a.fetchCurrentPrice=function(){fetch("https://cloud.iexapis.com/stable/stock/".concat(a.props.ticker,"/price?token=").concat(a.props.api)).then(a.handleErrors).then(function(e){return e.json()}).then(function(e){a.setState({currentPrice:e})}).catch(function(e){return console.log(e)})},a.updateAccountBalance=function(e,t){var n={account_balance:Math.round(100*(parseFloat(a.props.portfolio.account_balance)-e-5))/100};fetch("".concat(a.props.url,"/api/v1/portfolios/").concat(a.props.portfolio.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){a.props.dispatch({type:"SET_PORTFOLIO",payload:e}),a.props.dispatch({type:"SET_ACCOUNT_BALANCE",payload:n.account_balance})})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=(new Date).getMonth()+1+"/"+(new Date).getDate()+"/"+(new Date).getFullYear(),t=e+" 09:30:00 GMT-0400",a=e+" 16:00:00 GMT-0400",n=new Date;if(n.getDay()>5){if(6===n.getDay())if(n.getMonth()+1<10)if(n.getDate()<11){var r="".concat(n.getFullYear(),"0").concat(n.getMonth()+1,"0").concat(n.getDate()-1);this.fetchFromDate(r)}else{var o="".concat(n.getFullYear(),"0").concat(n.getMonth()+1).concat(n.getDate()-1);this.fetchFromDate(o)}else if(n.getDate()<11){var s="".concat(n.getFullYear(),"0").concat(n.getMonth()+1,"0").concat(n.getDate()-1);this.fetchFromDate(s)}else{var l="".concat(n.getFullYear(),"0").concat(n.getMonth()+1).concat(n.getDate()-1);this.fetchFromDate(l)}else if(7===n.getDay())if(n.getMonth()+1<10)if(n.getDate()<11)"".concat(n.getFullYear(),"0").concat(n.getMonth()+1,"0").concat(n.getDate()-2);else"".concat(n.getFullYear(),"0").concat(n.getMonth()+1).concat(n.getDate()-2);else if(n.getDate()<11)"".concat(n.getFullYear(),"0").concat(n.getMonth()+1,"0").concat(n.getDate()-2);else"".concat(n.getFullYear(),"0").concat(n.getMonth()+1).concat(n.getDate()-2)}else Date.parse(n)>=Date.parse(t)&&Date.parse(n)<=Date.parse(a)?this.fetchIntradayData():this.fetchPostCloseTradeData();this.fetchStatsData(),this.fetchCurrentPrice()}},{key:"fetchFromDate",value:function(e){var t=this;fetch("https://api.iextrading.com/1.0/stock/".concat(this.props.ticker,"/chart/date/").concat(e)).then(function(e){return e.json()}).then(function(e){t.setDatapoints(e)})}},{key:"fetchPostCloseTradeData",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.ticker,"/intraday-prices?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setDatapoints(t)})}},{key:"fetchIntradayData",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.ticker,"/intraday-prices?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setDatapoints(t)})}},{key:"fetchStatsData",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.ticker,"/ohlc?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setState({stats:{open:t.open.price,close:t.close.price,high:t.high,low:t.low}})})}},{key:"handleErrors",value:function(e){if(!e.ok)throw Error(e.statusTet);return e}},{key:"renderTradeForm",value:function(e){var t=this.props.dashboardEquities.map(function(e){return e.id}),a=this.props.portfolioEquities.map(function(e){return e.id});return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content-sm"},o.a.createElement("button",{onClick:this.closeTradeForm,className:"close"},"X"),o.a.createElement("h4",null,this.props.ticker," - $",this.state.currentPrice),t.includes(e)||this.state.addedToDashboard?null:o.a.createElement("div",{className:"modal-content-div"},1===this.props.dashboards.length?o.a.createElement("div",null,o.a.createElement("span",null," you currently don't have any dashboards! "),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(p.b,{className:"eq-navlink",to:"/dashboards/main"},"go to dashboards")):o.a.createElement(r.Fragment,null,o.a.createElement("span",null," add to a dashboard "),o.a.createElement("select",{onChange:this.addEquityId},this.props.dashboards.map(function(e){return"main"===e.name?o.a.createElement("option",{value:""},"Select"):o.a.createElement("option",{value:e.id},e.name)})),o.a.createElement("button",{className:"add-btn",onClick:this.addToDashboard},"+")),o.a.createElement("br",null),o.a.createElement("p",null," - - - - - - - - - - -  or  - - - - - - - - - - -")),o.a.createElement("div",{className:"modal-content-div"},o.a.createElement("span",null," trading fee: $5 "),o.a.createElement("br",null),o.a.createElement("span",null," cost of trade: $",(Math.round(this.state.currentPrice*this.state.quantity*100)/100+5).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("br",null),o.a.createElement("span",null," account balance: $",this.props.accountBalance.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," "),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null," quantity "),o.a.createElement("input",{name:"quantity",onChange:this.handleTrade,value:this.state.quantity,type:"text"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",null," buy/sell "),o.a.createElement("select",{onChange:this.handleDirection,value:this.state.direction},o.a.createElement("option",{value:"buy"},"buy"),o.a.createElement("option",{value:"sell"},"sell")),o.a.createElement("br",null),o.a.createElement("br",null),isNaN(this.state.quantity)?o.a.createElement("span",null," please enter a valid number "):null,this.state.quantity*this.state.currentPrice+5>this.props.accountBalance?o.a.createElement("div",null,o.a.createElement("h5",null," you don't have anough in your account to cover this trade "),o.a.createElement(p.b,{className:"eq-navlink",to:"/account"},"go to account")):o.a.createElement("div",null,o.a.createElement("button",{className:"search-btn",onClick:this.addToPortfolio}," trade ")),this.state.quantity<0&&!a.includes(e)?o.a.createElement("h5",null," warning: you currently don't have this stock",o.a.createElement("br",null),"in your portfolio, please proceed only if you",o.a.createElement("br",null),"understand the risks of short-selling"):null)))}},{key:"renderStats",value:function(){return o.a.createElement("div",null,o.a.createElement("h5",null,"current price: ",this.state.currentPrice),o.a.createElement("h5",null,"open: ",this.state.stats.open," | close: ",this.state.stats.close," | high: ",this.state.stats.high," | low: ",this.state.stats.low))}},{key:"renderDetails",value:function(){return o.a.createElement("div",null,o.a.createElement("h5",null," average volume: ",Math.round(this.props.details.avgTotalVolume/1e5)/10,"m | market cap: $",Math.round(this.props.details.marketCap/1e5)/10,"m "),o.a.createElement("h5",null," previous close: $",this.props.details.previousClose," | 52 week high: $",this.props.details.week52High," | 52 week low: $",this.props.details.week52Low))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.props.class},this.props.trade&&this.props.user_id?o.a.createElement("button",{className:"trade-btn",onClick:this.trade},"trade"):null,this.state.showTradeForm?this.renderTradeForm(this.props.id):null,this.props.delete?o.a.createElement("button",{className:"delete-btn",onClick:function(){return e.props.delete(e.props.ticker,e.props.id)}},"X"):null,this.props.showProfile?o.a.createElement(p.b,{className:"eq-navlink",activeStyle:{background:"rgba(92, 151, 191, 1)",color:"white"},onClick:this.showProfile,to:"/equities/search?=".concat(this.props.companyName.toLowerCase())},this.props.ticker," - ",this.props.companyName):o.a.createElement(r.Fragment,null,this.props.companyName?o.a.createElement("h4",null,this.props.ticker," - ",this.props.companyName):null),this.props.showProfile||this.props.delete?o.a.createElement(r.Fragment,null,o.a.createElement("h5",null,this.state.stats.sector," ")):null,o.a.createElement(w,{ticker:this.props.ticker,data:this.state.data,legend:this.state.legend,options:this.state.options}),this.props.noStats?null:this.renderStats(),this.props.details?this.renderDetails():null)}}]),t}(r.Component);var q=Object(f.b)(function(e){return{user_id:e.user_id,search:e.search,dashboards:e.dashboards,dashboardEquities:e.dashboardEquities,portfolio:e.portfolio,portfolioEquities:e.portfolioEquities,accountBalance:e.accountBalance,url:e.url,iex:e.iex,version:e.version,api:e.api}})(O),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={stats:{}},a.fetchStats=function(){a.state.stats.length||fetch("https://cloud.iexapis.com/stable/stock/".concat(a.props.ticker,"/ohlc?token=").concat(a.props.api)).then(function(e){return e.json()}).then(function(e){a.setState({stats:{open:e.open.price,close:e.close.price,high:e.high,low:e.low}})})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchStats()}},{key:"renderDetails",value:function(){return o.a.createElement("div",{className:"back"},o.a.createElement("h6",null,"Open: ",this.state.stats.open,o.a.createElement("br",null),"Close: ",this.state.stats.close,o.a.createElement("br",null),"High: ",this.state.stats.high,o.a.createElement("br",null),"Low: ",this.state.stats.low))}},{key:"render",value:function(){return o.a.createElement("div",{className:"sm-card"},o.a.createElement("h5",null,this.props.name),o.a.createElement("h6",null,this.props.equity.sector),this.renderDetails(),o.a.createElement("div",{className:"front"},o.a.createElement(q,{ticker:this.props.ticker,noStats:!0})))}}]),t}(r.Component);var C=Object(f.b)(function(e){return{api:e.api}})(j),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={tickers:[],equities:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dashboard.equities.map(function(e){return e.symbol+" | "});this.setState({tickers:e})}},{key:"render",value:function(){return o.a.createElement("div",{className:"summary-card"},o.a.createElement("h3",null," ",this.props.dashboard.name," "),o.a.createElement("h6",null," | ",this.state.tickers," "),this.props.dashboard.equities.map(function(e){return o.a.createElement(C,{key:e.id,ticker:e.symbol,name:e.company_name,equity:e})}))}}]),t}(r.Component),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.equity.symbol,"/news?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setState({articles:t})})}},{key:"render",value:function(){return o.a.createElement(r.Fragment,null,this.state.articles.map(function(e){return o.a.createElement("div",{key:e.headline,className:"article"},o.a.createElement("a",{href:e.url},e.headline),o.a.createElement("h5",null,e.summary))}))}}]),t}(r.Component);var _=Object(f.b)(function(e){return{iex:e.iex,version:e.version,api:e.api}})(D),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.class},this.props.delete?o.a.createElement("button",{className:"delete-btn",onClick:this.props.delete},"X"):null,o.a.createElement("h3",null,"newsfeed"),this.props.equities.map(function(e){return o.a.createElement(_,{key:e.id,equity:e})}))}}]),t}(r.Component),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).renderMain=function(){var e=a.props.allDashboards.filter(function(e){return"main"!==e.name});if(0!==a.props.portfolioEquities.length){var t={name:"portfolio",equities:a.props.portfolio.subportfolios.filter(function(e){return!e.date_sold}).map(function(e){return e.equity})};return o.a.createElement(r.Fragment,null,o.a.createElement(T,{equities:a.props.equities,class:"newsfeed grey-border"}),o.a.createElement("div",{className:"summary-card-container grey-border"},0===a.props.portfolioEquities.length?null:o.a.createElement(S,{key:a.props.portfolio.name,dashboard:t}),e.map(function(e){return o.a.createElement(S,{key:e.id,dashboard:e})})))}return o.a.createElement(r.Fragment,null,o.a.createElement(T,{equities:a.props.equities,class:"newsfeed grey-border"}),o.a.createElement("div",{className:"summary-card-container grey-border"},e.map(function(e){return o.a.createElement(S,{key:e.id,dashboard:e})})))},a.renderNewsfeed=function(){if(a.props.dashboard.newsfeed)return o.a.createElement(T,{equities:a.props.dashboard.equities,class:"newsfeed grey-border"})},a.renderCustom=function(){return o.a.createElement(r.Fragment,null,a.renderNewsfeed(),a.props.dashboard.newsfeed?o.a.createElement("div",{className:"dashboard-equities grey-border"},a.props.dashboard.equities.map(function(e){return o.a.createElement(q,{key:e.id,ticker:e.symbol,companyName:e.company_name,showProfile:!0,class:"dash-eq-card"})})):o.a.createElement("div",{className:"dashboard-equities-full grey-border"},a.props.dashboard.equities.map(function(e){return o.a.createElement(q,{key:e.id,ticker:e.symbol,companyName:e.company_name,showProfile:!0,class:"dash-eq-card"})})))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"inner-container"},this.props.dashboard?o.a.createElement(r.Fragment,null,"main"===this.props.dashboard.name?this.renderMain():this.renderCustom()):null)}}]),t}(r.Component),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={search:"",noResults:!1,sector:"",dashName:"",addNewsfeed:!1,searchResults:[],addedEquities:[]},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.toggleNewsfeed=function(e){a.setState(function(e){return{addNewsfeed:!e.addNewsfeed}})},a.addEquity=function(e){a.setState(function(t){return{addedEquities:[].concat(Object(N.a)(t.addedEquities),[e])}})},a.removeFromAddedEquities=function(e){a.setState(function(t){return{addedEquities:t.addedEquities.filter(function(t){return t.id!==e.id})}})},a.searchEquities=function(e){e.preventDefault(),fetch("".concat(a.props.url,"/api/v1/equities")).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.symbol.toLowerCase().includes(a.state.search)||e.company_name.toLowerCase().includes(a.state.search)});if(""!==a.state.sector){var n=t.filter(function(e){if(e.sector)return e.sector===a.state.sector});""==n?a.setState({searchResults:[],noResults:!0}):a.setState({searchResults:n,noResults:!1})}else""==t?a.setState({searchResults:[],noResults:!0}):a.setState({searchResults:t,noResults:!1})})},a.createNewDashboard=function(e){e.preventDefault();var t={user_id:a.props.user_id,name:a.state.dashName.replace(/[^\w\s]/gi,"").replace(/^\s+/g,"").replace(/\s+$/g,""),newsfeed:a.state.addNewsfeed};fetch("".concat(a.props.url,"/api/v1/dashboards"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){a.createNewDashboardEquities(e),a.props.dispatch({type:"SET_DASHBOARDS",payload:[].concat(Object(N.a)(a.props.dashboards),[e])})})},a.createNewDashboardEquities=function(e){a.state.addedEquities.map(function(t){var n={dashboard_id:e.id,equity_id:t.id};fetch("".concat(a.props.url,"/api/v1/equity_dashboards"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(t){t.equity_id===a.state.addedEquities[a.state.addedEquities.length-1].id&&a.props.goToNewDashboard(e.name,a.state.addedEquities)})})},a.renderAddedEquities=function(){return o.a.createElement(r.Fragment,null,a.state.addedEquities.map(function(e){return o.a.createElement("div",{className:"modal-equity-block",onClick:function(){return a.removeFromAddedEquities(e)}},o.a.createElement("h5",null,e.symbol," - ",e.company_name))}))},a.renderSearchResults=function(){var e=[a.state.addedEquities.map(function(e){return e.id}),a.props.dashboardEquities.map(function(e){return e.id})].flat();return a.state.searchResults.map(function(t){return o.a.createElement(r.Fragment,null,e.includes(t.id)?o.a.createElement("div",{className:"modal-equity-block-added",key:t.id},o.a.createElement("h5",null,t.symbol," - ",t.company_name)):o.a.createElement("div",{onClick:function(){return a.addEquity(t)},className:"modal-equity-block",key:t.id},o.a.createElement("h5",null,t.symbol," - ",t.company_name)))})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{onClick:this.props.closeForm,className:"close"},"X"),o.a.createElement("div",{className:"modal-create-new"},o.a.createElement("form",{onSubmit:this.createNewDashboard,className:"new-dash"},o.a.createElement("label",null,"enter dashboard name"),o.a.createElement("input",{className:"light-input",onChange:this.handleChange,type:"text",name:"dashName",value:this.state.dashName}),o.a.createElement("br",null),o.a.createElement("span",null,"add newsfeed"),o.a.createElement("input",{onChange:this.toggleNewsfeed,type:"checkbox",name:"addNewsfeed",value:this.state.addNewsfeed}),o.a.createElement("div",{className:"modal-new-equities"},""==this.state.addedEquities?o.a.createElement(r.Fragment,null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("p",null," search for equities on the right  "),o.a.createElement("p",null," by entering a ticker or company name. "),o.a.createElement("p",null," click on the equity to add or remove "),o.a.createElement("p",null," from your dashboard ")):this.renderAddedEquities()),o.a.createElement("input",{className:"search-btn",type:"submit",value:"create dashboard"}))),o.a.createElement("div",{className:"modal-search"},o.a.createElement("form",{onSubmit:this.searchEquities},o.a.createElement("label",null,"filter sector "),o.a.createElement("select",{name:"sector",onChange:this.handleChange},o.a.createElement("option",{value:""},"All"),o.a.createElement("option",{value:"Technology"},"Technology"),o.a.createElement("option",{value:"Healthcare"},"Healthcare"),o.a.createElement("option",{value:"Energy"},"Energy"),o.a.createElement("option",{value:"Industrials"},"Industrials"),o.a.createElement("option",{value:"Financial Services"},"Financial Services"),o.a.createElement("option",{value:"Basic Materials"},"Basic Materials"),o.a.createElement("option",{value:"Consumer Cyclical"},"Consumer Cyclical"),o.a.createElement("option",{value:"Consumer Defensive"},"Consumer Defensive"),o.a.createElement("option",{value:"Real Estate"},"Real Estate")),o.a.createElement("br",null),o.a.createElement("label",null,"search for equities"),o.a.createElement("input",{className:"light-input",onChange:this.handleChange,type:"text",name:"search",value:this.state.search}),o.a.createElement("br",null),o.a.createElement("input",{className:"search-btn",type:"submit",value:"search"})),o.a.createElement("div",{className:"modal-results"},this.renderSearchResults(),this.state.noResults?o.a.createElement("h5",null," no results "):null))))}}]),t}(r.Component);var M=Object(f.b)(function(e){return{user_id:e.user_id,dashboards:e.dashboards,dashboardEquities:e.dashboardEquities,url:e.url}})(B),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={editDash:!1,showNewForm:!1},a.showForm=function(){a.setState({showNewForm:!0})},a.closeForm=function(){a.setState({showNewForm:!1})},a.goToNewlyCreatedDashboard=function(e,t){a.setState({showNewForm:!1}),a.props.history.push("/dashboards/".concat(e)),window.location.reload()},a.renderNewForm=function(){return o.a.createElement(M,{closeForm:a.closeForm,goToNewDashboard:a.goToNewlyCreatedDashboard})},a.renderDashboardNav=function(){if(a.props.dashboards)return o.a.createElement("div",{className:"top-nav"},a.props.dashboards.map(function(e){return o.a.createElement(p.b,{key:e.id,className:"top-nav-link",activeStyle:{fontWeight:"bold",color:"rgba(192, 247, 244, 1)"},to:"/dashboards/".concat(e.name)},e.name)}),"main"!==a.props.match.params.name?o.a.createElement("div",{className:"edit-btn"},o.a.createElement(p.b,{className:"edit-btn",activeStyle:{fontWeight:"bold"},to:"/dashboards/".concat(a.props.match.params.name,"/edit")}," edit ")):null,o.a.createElement("button",{onClick:a.showForm,id:"plus-btn"},"+"))},a.renderDashboards=function(){if(a.props.match.params.name){var e=a.props.dashboards.find(function(e){return e.name===a.props.match.params.name});return o.a.createElement(r.Fragment,null,a.state.showNewForm?a.renderNewForm():null,o.a.createElement(A,{equities:a.props.dashboardEquities,dashboard:e,allDashboards:a.props.dashboards,edit:a.editDashboard,portfolio:a.props.portfolio,portfolioEquities:a.props.portfolioEquities}))}a.props.history.push("/dashboards/main")},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.hideNavBar(),this.fetchDashboards()}},{key:"fetchDashboards",value:function(){var e=this;fetch("".concat(this.props.url,"/api/v1/dashboards")).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(t){return t.user_id===e.props.user_id}),n=a.map(function(e){return e.equities}).flat();e.props.dispatch({type:"SET_DASHBOARDS",payload:a}),e.props.dispatch({type:"SET_DASHBOARD_EQUITIES",payload:n})})}},{key:"renderNewUserPopup",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content-sm"},o.a.createElement("h3",null," Welcome to Stock Overflow! "),o.a.createElement("br",null),o.a.createElement("span",null,'To create a new dashboard, click on the "Create New Dashboard" button below. Explore different equities by clicking on the "Explore Equities" button.'),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:this.showForm,className:"new-user-btn"},"Create New Dashboard"),o.a.createElement(p.b,{className:"new-user-btn",to:"/equities"},"Explore Equities")))}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},this.renderDashboardNav(),this.renderDashboards(),0===this.props.dashboardEquities.length&&!1===this.state.showNewForm?this.renderNewUserPopup():null)}}]),t}(r.Component);var P=Object(f.b)(function(e){return{user_id:e.user_id,dashboards:e.dashboards,dashboardEquities:e.dashboardEquities,portfolioEquities:e.portfolioEquities,portfolio:e.portfolio,url:e.url,iex:e.iex,version:e.version,key:e.key}})(F),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={dashboard:{},search:"",sector:"",noResults:!1,searchResults:[],addedEquities:[],removedEquityIds:[],currentEquityDashoards:[]},a.toggleNewsfeed=function(){a.setState(function(e){return{dashboard:Object(n.a)({},e.dashboard,{newsfeed:!e.dashboard.newsfeed})}})},a.handleNameChange=function(e){var t=e.target.value.replace(/[^\w\s]/gi,"");a.setState(function(e){return{dashboard:Object(n.a)({},e.dashboard,{name:t})}})},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.deleteNewsfeed=function(){window.confirm("are you sure you want to delete?")&&a.setState(function(e){return{dashboard:Object(n.a)({},e.dashboard,{newsfeed:!1})}})},a.deleteEquity=function(e,t){window.confirm("are you sure you want to delete?")&&(a.props.dashboardEquities.map(function(e){return e.id}).includes(t)?a.setState(function(a){return{dashboard:Object(n.a)({},a.dashboard,{equities:a.dashboard.equities.filter(function(t){return t.symbol!==e})}),addedEquities:a.addedEquities.filter(function(e){return e.id!==t}),removedEquityIds:[].concat(Object(N.a)(a.removedEquityIds),[t])}}):a.setState(function(a){return{dashboard:Object(n.a)({},a.dashboard,{equities:a.dashboard.equities.filter(function(t){return t.symbol!==e})}),addedEquities:a.addedEquities.filter(function(e){return e.id!==t})}}))},a.addEquity=function(e){a.setState(function(t){return{addedEquities:[].concat(Object(N.a)(t.addedEquities),[e]),dashboard:Object(n.a)({},t.dashboard,{equities:[].concat(Object(N.a)(t.dashboard.equities),[e])})}})},a.saveDashboard=function(){var e={name:a.state.dashboard.name.replace(/^\s+/g,"").replace(/\s+$/g,""),newsfeed:a.state.dashboard.newsfeed};a.fetchEditDashboard(e),""!=a.state.addedEquities&&a.state.addedEquities.map(function(e){a.fetchAddEquities(e)}),""!=a.state.removedEquityIds&&a.state.removedEquityIds.map(function(e){a.fetchDeleteEquities(e)})},a.deleteDashboard=function(){window.confirm("are you sure you want to delete this dashboard?")&&a.fetchDeleteDashboard()},a.searchEquities=function(e){e.preventDefault(),fetch("".concat(a.props.url,"/api/v1/equities")).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.symbol.toLowerCase().includes(a.state.search)||e.company_name.toLowerCase().includes(a.state.search)});if(""!==a.state.sector){var n=t.filter(function(e){if(e.sector)return e.sector===a.state.sector});""==n?a.setState({searchResults:[],noResults:!0}):a.setState({searchResults:n,noResults:!1})}else""==t?a.setState({searchResults:[],noResults:!0}):a.setState({searchResults:t,noResults:!1})})},a.fetchEditDashboard=function(e){fetch("".concat(a.props.url,"/api/v1/dashboards/").concat(a.state.dashboard.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.props.history.push("/dashboards/".concat(e.name))})},a.fetchAddEquities=function(e){var t={dashboard_id:a.state.dashboard.id,equity_id:e.id};fetch("".concat(a.props.url,"/api/v1/equity_dashboards"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){})},a.fetchDeleteEquities=function(e){var t=a.state.currentEquityDashoards.find(function(t){return t.equity_id===e});fetch("".concat(a.props.url,"/api/v1/equity_dashboards/").concat(t.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accepts:"application/json"}})},a.fetchDeleteDashboard=function(){fetch("".concat(a.props.url,"/api/v1/dashboards/").concat(a.state.dashboard.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accepts:"application/json"}}).then(function(e){return console.log(e)}).then(function(){a.props.history.push("/dashboards/main")})},a.renderSearchResults=function(){var e=[a.state.addedEquities.map(function(e){return e.id}),a.props.dashboardEquities.map(function(e){return e.id})].flat();return a.state.searchResults.map(function(t){return o.a.createElement("div",{className:"search-result",key:t.id},e.includes(t.id)?o.a.createElement("span",{className:"unavailable"},t.symbol," - ",t.company_name):o.a.createElement("span",{className:"available",onClick:function(){return a.addEquity(t)}},t.symbol," - ",t.company_name))})},a.renderSearchForm=function(){return o.a.createElement("div",{className:"search-form-container grey-border"},o.a.createElement("div",null,o.a.createElement("button",{className:"simple-btn",onClick:a.saveDashboard},"Save Dashboard"),o.a.createElement("button",{className:"simple-btn",onClick:a.deleteDashboard},"Delete Dashboard")),o.a.createElement("div",{className:"edit-dashboard"},o.a.createElement("br",null),o.a.createElement("label",null," edit dashboard name "),o.a.createElement("input",{type:"text",onChange:a.handleNameChange,value:a.state.dashboard.name,className:"edit-dashname",placeholder:"dashboard name"}),a.state.dashboard.newsfeed?null:o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",value:a.state.dashboard.newsfeed,onChange:a.toggleNewsfeed}),o.a.createElement("label",null,"add newsfeed"))),o.a.createElement("div",{className:"search-form"},o.a.createElement("div",null,"search for equities to add"),o.a.createElement("form",{onSubmit:a.searchEquities},o.a.createElement("label",null,"filter sector "),o.a.createElement("select",{name:"sector",onChange:a.handleChange},o.a.createElement("option",{value:""},"All"),o.a.createElement("option",{value:"Technology"},"Technology"),o.a.createElement("option",{value:"Healthcare"},"Healthcare"),o.a.createElement("option",{value:"Energy"},"Energy"),o.a.createElement("option",{value:"Industrials"},"Industrials"),o.a.createElement("option",{value:"Financial Services"},"Financial Services"),o.a.createElement("option",{value:"Basic Materials"},"Basic Materials"),o.a.createElement("option",{value:"Consumer Cyclical"},"Consumer Cyclical"),o.a.createElement("option",{value:"Consumer Defensive"},"Consumer Defensive"),o.a.createElement("option",{value:"Real Estate"},"Real Estate")),o.a.createElement("br",null),o.a.createElement("input",{className:"input-field",onChange:a.handleChange,type:"text",name:"search",value:a.state.search,placeholder:"type a ticker or company name"}),o.a.createElement("div",null,o.a.createElement("input",{className:"search-btn",type:"submit",value:"search"}))),""!=a.state.searchResults?a.renderSearchResults():null,a.state.noResults?o.a.createElement("h5",null," no results found "):null))},a.renderDashboardForm=function(){return o.a.createElement("div",{className:"inner-container"},a.renderNewsfeed(),a.state.dashboard.newsfeed?o.a.createElement("div",{className:"dashboard-equities-edit grey-border"},a.state.dashboard.equities?a.state.dashboard.equities.map(function(e){return o.a.createElement(q,{key:e.id,ticker:e.symbol,companyName:e.company_name,delete:a.deleteEquity,id:e.id,class:"sm-eq-edit"})}):null):o.a.createElement("div",{className:"dashboard-equities grey-border"},a.state.dashboard.equities?a.state.dashboard.equities.map(function(e){return o.a.createElement(q,{key:e.id,ticker:e.symbol,companyName:e.company_name,delete:a.deleteEquity,id:e.id,class:"lg-eq-edit"})}):null),a.renderSearchForm())},a.renderNewsfeed=function(){if(a.state.dashboard.newsfeed)return o.a.createElement(T,{equities:a.state.dashboard.equities,delete:a.deleteNewsfeed,class:"newsfeed grey-border"})},a.renderDashboardNav=function(){if(a.props.dashboards)return o.a.createElement("div",{className:"top-nav"},a.props.dashboards.map(function(e){return o.a.createElement(p.b,{key:e.id,className:"top-nav-link",activeStyle:{fontWeight:"bold",color:"rgba(192, 247, 244, 1)"},to:"/dashboards/".concat(e.name)},e.name)}))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(""==this.props.dashboards)this.fetchDashboards();else{var t=this.props.dashboards.find(function(t){return t.name===e.props.match.params.name});this.setState({dashboard:t}),this.fetchEquityDashboards()}}},{key:"fetchDashboards",value:function(){var e=this;fetch("".concat(this.props.url,"/api/v1/dashboards")).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(t){return t.user_id===e.props.user_id}),n=a.map(function(e){return e.equities}).flat(),r=a.find(function(t){return t.name===e.props.match.params.name});e.props.dispatch({type:"SET_DASHBOARDS",payload:a}),e.props.dispatch({type:"SET_DASHBOARD_EQUITIES",payload:n}),e.setState({dashboard:r}),e.fetchEquityDashboards()})}},{key:"fetchEquityDashboards",value:function(){var e=this;fetch("".concat(this.props.url,"/api/v1/equity_dashboards")).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(t){return t.dashboard_id===e.state.dashboard.id});e.setState({currentEquityDashoards:a})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},this.renderDashboardNav(),this.renderDashboardForm())}}]),t}(r.Component);var I=Object(f.b)(function(e){return{user_id:e.user_id,dashboards:e.dashboards,dashboardEquities:e.dashboardEquities,url:e.url}})(x),R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"card"},o.a.createElement(q,{ticker:this.props.equity.symbol,companyName:this.props.equity.companyName,showProfile:!0}),o.a.createElement("h5",null," average volume: ",Math.round(this.props.equity.avgTotalVolume/1e5)/10,"m | market cap: $",Math.round(this.props.equity.marketCap/1e5)/10,"m "),o.a.createElement("h5",null," previous close: $",this.props.equity.previousClose," | 52 week high: $",this.props.equity.week52High," | 52 week low: $",this.props.equity.week52Low))}}]),t}(r.Component),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).renderEquities=function(){if(a.props.equities)return o.a.createElement(r.Fragment,null,a.props.equities.map(function(e){if(e.avgTotalVolume>1e5)return o.a.createElement(R,{key:e.symbol,equity:e})}))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"equity-container"},this.renderEquities())}}]),t}(r.Component),$=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.ticker,"/financials?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setState({data:t.financials})})}},{key:"renderTable",value:function(){return o.a.createElement("table",{className:"financials"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null),this.state.data.map(function(e){return o.a.createElement("th",null,e.reportDate)})),o.a.createElement("tr",null,o.a.createElement("td",null,"Operating Revenue"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.operatingRevenue/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Cost of Revenue"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.costOfRevenue/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Gross Profit"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.grossProfit/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Operating Expense"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.operatingExpense/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Operating Income"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.operatingIncome/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"R&D"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.researchAndDevelopment/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Net Income"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.netIncome/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Total Assets"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.totalAssets/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Total Cash"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.totalCash/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Total Liabilities"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.totalLiabilities/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Shareholder Equity"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.shareholderEquity/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Current Assets"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.currentAssets/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Current Cash"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.currentCash/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Current Debt"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.currentDebt/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")})),o.a.createElement("tr",null,o.a.createElement("td",null,"Cash Flow"),this.state.data.map(function(e){return o.a.createElement("td",null,"$",(Math.round(e.cashFlow/1e5)/10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"m")}))))}},{key:"render",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{name:"showFinancials",onClick:this.props.closeDetails,className:"close"},"X"),this.state.data&&0!=this.state.data.length?this.renderTable():o.a.createElement("h4",null," historic financial data not available ")))}}]),t}(r.Component),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={view:"1m",price:"close",data:{},legend:{display:!1},options:{scales:{xAxes:[{ticks:{fontColor:"rgba(0,0,0,1)"},gridLines:{display:!1,color:"rgba(0,0,0,0.5)"}}],yAxes:[{ticks:{fontColor:"rgba(0,0,0,1)"},gridLines:{display:!1,color:"rgba(0,0,0,0.5)"}}]}}},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value)),"view"===e.target.name?a.getNewData(e.target.value):"price"===e.target.name&&a.getNewData(a.state.view)},a.getNewData=function(e){fetch("https://cloud.iexapis.com/stable/stock/".concat(a.props.ticker,"/chart/").concat(e,"?token=").concat(a.props.api)).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e){return e[a.state.price]}),n=e.map(function(e){return e.date});a.setState({data:{labels:n,datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",borderColor:"#2bcbba",data:t}]}})})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.ticker,"/chart/").concat(this.state.view,"?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){var a=t.map(function(t){return t[e.state.price]}),n=t.map(function(e){return e.date});e.setState({data:{labels:n,datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",borderColor:"#2bcbba",pointBorderColor:"rgb(255,255,255,0)",data:a,lineTension:.1}]}})})}},{key:"renderDropdown",value:function(){return o.a.createElement("div",null,o.a.createElement("label",null," date range "),o.a.createElement("select",{name:"view",onChange:this.handleChange},o.a.createElement("option",{value:"1m"},"1m"),o.a.createElement("option",{value:"3m"},"3m"),o.a.createElement("option",{value:"6m"},"6m"),o.a.createElement("option",{value:"ytd"},"Ytd"),o.a.createElement("option",{value:"1y"},"1y"),o.a.createElement("option",{value:"2y"},"2y"),o.a.createElement("option",{value:"5y"},"5y")),o.a.createElement("label",null," price "),o.a.createElement("select",{name:"price",onChange:this.handleChange},o.a.createElement("option",{value:"close"},"close"),o.a.createElement("option",{value:"open"},"open"),o.a.createElement("option",{value:"high"},"high"),o.a.createElement("option",{value:"low"},"low"),o.a.createElement("option",{value:"vwap"},"vwap")))}},{key:"renderChart",value:function(){return o.a.createElement("div",{className:"eq-chart"},o.a.createElement(k.a,{data:this.state.data,legend:this.state.legend,options:this.state.options}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{name:"showHistoricChart",onClick:this.props.closeDetails,className:"close"},"X"),o.a.createElement("div",{className:"historic"},o.a.createElement("h4",null,this.props.companyName),this.renderDropdown(),this.renderChart())))}}]),t}(r.Component);var H=Object(f.b)(function(e){return{api:e.api}})(U),Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showFinancials:!1,showHistoricChart:!1,showNews:!1,showAdd:!1,equity_id:null,dashboard_id:null},a.showDetails=function(e){a.setState(Object(b.a)({},e.target.name,!0))},a.closeDetails=function(e){a.setState(Object(b.a)({},e.target.name,!1))},a.showAddToDashboard=function(e){a.setState({showAdd:!0,equity_id:e})},a.hideAddToDashboard=function(){a.setState({showAdd:!1,equity_id:null,dashboard_id:null})},a.setDashboard=function(e){a.setState({dashboard_id:e.target.value})},a.addEquityToDashboard=function(){var e={dashboard_id:a.state.dashboard_id,equity_id:a.state.equity_id};fetch("".concat(a.props.url,"/api/v1/equity_dashboards"),{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.props.dispatch({type:"SET_DASHBOARD_EQUITIES",payload:[].concat(Object(N.a)(a.props.dashboardEquities),[e])}),a.props.addEquityToDashboard()})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderProfile",value:function(){return o.a.createElement("div",{className:"eq-profile"},o.a.createElement("h3",null,this.props.equity.symbol," - ",this.props.equity.company_name),o.a.createElement("div",{className:"eq-profile-details"},o.a.createElement("p",null,"Sector: ",this.props.equity.sector," "),o.a.createElement("p",null,"Industry: ",this.props.equity.industry," "),o.a.createElement("p",null,"CEO: ",this.props.equity.ceo," "),o.a.createElement("p",null,"Website: ",o.a.createElement("a",{className:"sm-link",href:this.props.equity.website},this.props.equity.website)," "),o.a.createElement("p",null,"Exchange: ",this.props.equity.exchange," "),o.a.createElement("p",null,this.props.equity.description)),o.a.createElement(q,{id:this.props.equity.id,ticker:this.props.equity.symbol,trade:!0}),o.a.createElement("button",{className:"trade-btn",name:"showFinancials",onClick:this.showDetails}," view financials "),o.a.createElement("button",{className:"trade-btn",name:"showHistoricChart",onClick:this.showDetails}," historic charts "),o.a.createElement("button",{className:"trade-btn",name:"showNews",onClick:this.showDetails}," show news "))}},{key:"renderAddToDashboard",value:function(){return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content-sm"},o.a.createElement("button",{onClick:this.hideAddToDashboard,className:"close"},"X"),o.a.createElement("label",null,"select dashboard"),o.a.createElement("br",null),o.a.createElement("select",{onChange:this.setDashboard},this.props.dashboards.map(function(e){return"main"===e.name?o.a.createElement("option",{value:""},"select"):o.a.createElement("option",{value:e.id},e.name)})),o.a.createElement("br",null),o.a.createElement("button",{onClick:this.addEquityToDashboard}," add ")))}},{key:"render",value:function(){return o.a.createElement(r.Fragment,null,this.renderProfile(),this.state.showFinancials?o.a.createElement($,{ticker:this.props.equity.symbol,closeDetails:this.closeDetails,api:this.props.api}):null,this.state.showHistoricChart?o.a.createElement(H,{ticker:this.props.equity.symbol,companyName:this.props.equity.company_name,closeDetails:this.closeDetails}):null,this.state.showNews?o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{name:"showNews",className:"close",onClick:this.closeDetails},"X"),o.a.createElement(T,{equities:[this.props.equity],class:"modal-news"}))):null,this.state.showAdd?this.renderAddToDashboard():null)}}]),t}(r.Component);var J=Object(f.b)(function(e){return{dashboards:e.dashboards,dashboardEquities:e.dashboardEquities,url:e.url,api:e.api}})(Y),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={equities:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.term.split("%20").join(" ");fetch("".concat(this.props.url,"/api/v1/equities")).then(function(e){return e.json()}).then(function(a){var n=a.filter(function(e){return e.symbol.toLowerCase().includes(t)||e.company_name.toLowerCase().includes(t)});e.setState({equities:n})})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.equities.map(function(e){return o.a.createElement(J,{key:e.id,equity:e})}))}}]),t}(r.Component);var V=Object(f.b)(function(e){return{user_id:e.user_id,search:e.search,url:e.url}})(Q),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).showProfile=function(){a.props.dispatch({type:"SEARCH_EQUITY",payload:a.props.companyName.toLowerCase()})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"simple-equity"},o.a.createElement(p.b,{className:"eq-navlink",activeStyle:{background:"rgba(92, 151, 191, 1)",color:"white"},onClick:this.showProfile,to:"/equities/search?=".concat(this.props.equity.company_name.toLowerCase())},this.props.equity.symbol," - ",this.props.equity.company_name),o.a.createElement("br",null),o.a.createElement("p",null," CEO: ",this.props.equity.ceo," "),o.a.createElement("p",null," Industry: ",this.props.equity.industry," "),o.a.createElement("p",null," Website: ",o.a.createElement("a",{className:"sm-link",href:this.props.equity.website},this.props.equity.website)," "))}}]),t}(r.Component);var X=Object(f.b)(function(e){return{search:e.search}})(W),G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={technology:[],healthcare:[],energy:[],industrials:[],financialServices:[],basicMaterials:[],consumerCyclical:[],consumerDefensive:[],realEstate:[],currentPage:"technology",filtered:[],search:""},a.changePage=function(e){a.setState({currentPage:e.target.value,filtered:a.state[e.target.value]})},a.handleSearch=function(e){var t=a.state[a.state.currentPage].filter(function(t){return t.company_name.toLowerCase().includes(e.target.value)});a.setState({search:e.target.value,filtered:t})},a.fetchEquities=function(){fetch("".concat(a.props.url,"/api/v1/equities")).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return"Technology"===e.sector}),n=e.filter(function(e){return"Healthcare"===e.sector}),r=e.filter(function(e){return"Energy"===e.sector}),o=e.filter(function(e){return"Industrials"===e.sector}),s=e.filter(function(e){return"Financial Services"===e.sector}),l=e.filter(function(e){return"Basic Materials"===e.sector}),i=e.filter(function(e){return"Consumer Cyclical"===e.sector}),c=e.filter(function(e){return"Consumer Defensive"===e.sector}),u=e.filter(function(e){return"Real Estate"===e.sector});a.setState({technology:t,healthcare:n,energy:r,industrials:o,financialServices:s,basicMaterials:l,consumerCyclical:i,consumerDefensive:c,realEstate:u,filtered:t})})},a.renderSectorBar=function(){return o.a.createElement("div",{className:"sector-nav"},o.a.createElement("div",null,o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"technology",value:"technology"},"Technology"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"healthcare",value:"healthcare"},"Healthcare"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"energy",value:"energy"},"Energy"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"industrials",value:"industrials"},"Industrials"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"financialServices",value:"financialServices"},"Financial Services"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"basicMaterials",value:"basicMaterials"},"Basic Materials"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"consumerCyclical",value:"consumerCyclical"},"Consumer Cyclical"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"consumerDefensive",value:"consumerDefensive"},"Consumer Defensive"),o.a.createElement("button",{className:"trade-btn",onClick:a.changePage,name:"realEstate",value:"realEstate"},"Real Estate"),o.a.createElement("input",{onChange:a.handleSearch,value:a.state.search,type:"text",placeholder:"quick search"})))},a.renderSector=function(){return o.a.createElement("div",{className:"sector-equities"},a.state.filtered.map(function(e){return o.a.createElement(X,{equity:e})}))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchEquities()}},{key:"render",value:function(){return o.a.createElement("div",{className:"sectors-container"},o.a.createElement("div",{className:"sector grey-border"},this.renderSectorBar(),""!=this.state[this.state.currentPage]?this.renderSector():null))}}]),t}(r.Component);var z=Object(f.b)(function(e){return{url:e.url}})(G),K=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",equities:[],gainers:[],losers:[],mostactive:[],infocus:[]},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value.toLowerCase()))},a.handleSearch=function(e){e.preventDefault(),a.props.history.push("/equities/search?=".concat(a.state.search)),window.location.reload()},a.renderTop=function(){"top"===a.props.view&&a.props.history.push("/equities/gainers")},a.renderEquityNavBar=function(){return o.a.createElement("div",{className:"top-nav"},o.a.createElement(p.b,{className:"navlink-dash",activeStyle:{fontWeight:"bold",color:"rgba(192, 247, 244, 1)"},to:"/equities/gainers"}," top gainers "),o.a.createElement(p.b,{className:"navlink-dash",activeStyle:{fontWeight:"bold",color:"rgba(192, 247, 244, 1)"},to:"/equities/losers"}," top losers "),o.a.createElement(p.b,{className:"navlink-dash",activeStyle:{fontWeight:"bold",color:"rgba(192, 247, 244, 1)"},to:"/equities/mostactive"}," most active "),o.a.createElement(p.b,{className:"navlink-dash",activeStyle:{fontWeight:"bold",color:"rgba(192, 247, 244, 1)"},to:"/equities/sectors"}," sectors "),o.a.createElement("div",{className:"searchform"},o.a.createElement("form",{onSubmit:a.handleSearch},o.a.createElement("input",{type:"text",className:"search",name:"search",value:a.state.search,onChange:a.handleChange,placeholder:"search ticker or company"}))))},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.hideNavBar(),this.fetchMostActive(),this.fetchGainers(),this.fetchLosers()}},{key:"fetchMostActive",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/market/list/mostactive?token=".concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setState({mostactive:t})})}},{key:"fetchGainers",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/market/list/gainers?token=".concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setState({gainers:t})})}},{key:"fetchLosers",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/market/list/losers?token=".concat(this.props.api)).then(function(e){return e.json()}).then(function(t){e.setState({losers:t})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},this.renderEquityNavBar(),this.renderTop(),o.a.createElement("div",null,"search"===this.props.match.params.view?o.a.createElement(V,{term:this.props.location.search.substring(2)}):o.a.createElement(r.Fragment,null,"sectors"===this.props.match.params.view?o.a.createElement(z,null):o.a.createElement(L,{equities:this.state[this.props.match.params.view],title:this.props.match.params.view}))))}}]),t}(r.Component);var Z=Object(f.b)(function(e){return{search:e.search,user_id:e.user_id,api:e.api}})(K),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={legend:{display:!1,color:"white"},options:{cutoutPercentage:"50"}},a.getData=function(){return{datasets:[{data:Object.values(a.props.sectorData),backgroundColor:["rgba(224, 255, 247, 0.8)","rgba(192, 249, 235, 0.8)","rgba(159, 249, 227, 0.8)","rgba(113, 237, 207, 0.8)","rgba(74, 224, 188, 0.8)","rgba(192, 232, 232, 0.8)","rgba(156, 229, 229, 0.8)","rgba(119, 234, 234, 0.8)","rgba(118, 240, 247, 0.8)"],borderColor:["rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)","rgba(64, 89, 104, 0.2)"]}],labels:Object.keys(a.props.sectorData)}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:{datasets:[{fill:!0,data:Object.values(this.props.sectorData)}],labels:Object.keys(this.props.sectorData)}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"grey-border portfolio-card col-1"},o.a.createElement("h4",null,"Breakdown Component "),o.a.createElement("h6",null," breakdown of portfolio by sector "),o.a.createElement(k.b,{data:this.getData(),legend:this.state.legend,options:this.state.options}))}}]),t}(r.Component),te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{labels:[],datasets:[{label:"",pointBorderColor:"rgb(255,255,255,0)",lineTension:1,data:[]}]},legend:{display:!1},options:{scales:{xAxes:[{ticks:{display:!1,fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}],yAxes:[{ticks:{fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}]}},currentPrice:0,currentValue:0,closePosition:!1},a.closePosition=function(){a.setState(function(e){return{closePosition:!e.closePosition}})},a.confirmTrade=function(){var e={portfolio_id:a.props.portfolio,equity_id:a.props.subportfolio.equity.id,initial_px:parseFloat(a.props.subportfolio.initial_px),date_bought:a.props.subportfolio.date_bought,date_sold:(new Date).getFullYear()+"-"+((new Date).getMonth()+1)+"-"+(new Date).getDate(),quantity:0,end_px:a.state.currentPrice,initial_value:parseFloat(a.props.subportfolio.initial_value),end_value:a.state.currentValue};fetch("".concat(a.props.url,"/api/v1/subportfolios/").concat(a.props.subportfolio.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.updateAccountBalance(e.end_value)})},a.fetchPrice=function(){fetch("https://cloud.iexapis.com/stable/stock/".concat(a.props.subportfolio.equity.symbol,"/price?token=").concat(a.props.api)).then(function(e){return e.json()}).then(function(e){a.setState({currentPrice:e,currentValue:Math.round(e*a.props.subportfolio.quantity*100)/100})})},a.updateAccountBalance=function(e){var t={account_balance:Math.round(100*(parseFloat(a.props.portfolio.account_balance)+parseFloat(e)-5))/100};fetch("".concat(a.props.url,"/api/v1/portfolios/").concat(a.props.portfolio.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){window.location.reload()})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=new Date,t=e.getFullYear()-1+"-"+(e.getMonth()+1)+"-"+e.getDate();this.props.subportfolio.date_bought>t?this.fetchOneYearTradingData():this.fetchFiveYearTradingData(),this.fetchPrice()}},{key:"fetchFiveYearTradingData",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.subportfolio.equity.symbol,"/chart/5y?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(t){return t.date>=e.props.subportfolio.date_bought}),n=a.map(function(e){return e.close}),r=a.map(function(e){return e.date});e.setState({data:{labels:r,datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",borderColor:"#2bcbba",data:n}]}})})}},{key:"fetchOneYearTradingData",value:function(){var e=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(this.props.subportfolio.equity.symbol,"/chart/1y?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(t){return t.date>=e.props.subportfolio.date_bought}),n=a.map(function(e){return e.close}),r=a.map(function(e){return e.date});e.setState({data:{labels:r,datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",borderColor:"#2bcbba",data:n}]}})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"details"},o.a.createElement("h5",null,this.props.subportfolio.equity.company_name," - ",this.props.subportfolio.equity.sector),o.a.createElement(w,{data:this.state.data,legend:this.state.legend,options:this.state.options}),o.a.createElement("h6",null,"last px: $",this.state.currentPrice," | quantity: ",this.props.subportfolio.quantity," | value: $",this.state.currentValue.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),o.a.createElement("br",null),"$change: ",Math.round(100*(this.state.currentValue-this.props.subportfolio.initial_value))/100," | %change: ",Math.round(1e4*(this.state.currentPrice/this.props.subportfolio.initial_px-1))/100," "),Math.abs(this.props.subportfolio.quantity)>0?o.a.createElement(r.Fragment,null,o.a.createElement("h6",null,"date bought: ",this.props.subportfolio.date_bought),o.a.createElement("button",{className:"pf-btn",onClick:this.closePosition}," close this position ")):o.a.createElement(r.Fragment,null,o.a.createElement("h6",null," date bought: ",this.props.subportfolio.date_bought," | date sold: ",this.props.subportfolio.date_sold),o.a.createElement("h6",null," realized gain/loss: ",Math.round(100*(this.props.subportfolio.end_value-this.props.subportfolio.initial_value))/100)),this.state.closePosition?o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content-sm"},o.a.createElement("button",{onClick:this.closePosition,className:"close"},"X"),o.a.createElement("h4",null,this.props.subportfolio.equity.symbol," - $",this.state.currentPrice),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",null," trading fee: $5 "),o.a.createElement("br",null),o.a.createElement("span",null," initial value: $",this.props.subportfolio.initial_value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("br",null),o.a.createElement("span",null," current value: $",this.state.currentValue.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("br",null),o.a.createElement("span",null," realized gain/loss: $",(Math.round(100*(this.state.currentValue-this.props.subportfolio.initial_value-5))/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{className:"search-btn",onClick:this.confirmTrade}," confirm trade "))):null)}}]),t}(r.Component);var ae=Object(f.b)(function(e){return{url:e.url,api:e.api}})(te),ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={viewClosedPositions:!1},a.viewClosedPositions=function(){a.setState(function(e){return{viewClosedPositions:!e.viewClosedPositions}})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"grey-border portfolio-card bottom"},o.a.createElement("h4",null,"Current Trades"),this.state.viewClosedPositions?o.a.createElement(r.Fragment,null,o.a.createElement("div",null,o.a.createElement("button",{className:"simple-btn",onClick:this.viewClosedPositions}," view open positions ")),this.props.subportfolios.map(function(t){if(t.date_sold)return o.a.createElement(ae,{key:t.id,subportfolio:t,portfolio:e.props.portfolio})})):o.a.createElement(r.Fragment,null,o.a.createElement("div",null,o.a.createElement("button",{className:"simple-btn",onClick:this.viewClosedPositions}," view closed positions ")),this.props.subportfolios.map(function(t){if(!t.date_sold)return o.a.createElement(ae,{key:t.id,subportfolio:t,portfolio:e.props.portfolio})})))}}]),t}(r.Component),re=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={dataArray:[],data:{},legend:{display:!1},options:{scales:{xAxes:[{ticks:{display:!0,fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}],yAxes:[{ticks:{fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}]}},currentValue:0},a.fetchOneYearTradingData=function(e){fetch("https://cloud.iexapis.com/stable/stock/".concat(e.equity.symbol,"/chart/1y?token=").concat(a.props.api)).then(function(e){return e.json()}).then(function(t){var n=t.filter(function(t){return t.date>=e.date_bought}).reduce(function(t,a){return t[a.date]=Math.round(a.close*e.quantity*100)/100,t},{});a.setState(function(e){return{dataArray:[].concat(Object(N.a)(e.dataArray),[n])}})}).then(function(){var e=a.sumObjectsByKey(a.state.dataArray),t={};Object.keys(e).sort().forEach(function(a){return t[a]=e[a]});var n=Object.values(t),r=Object.keys(t),o=Math.round(100*Object.values(t)[Object.values(t).length-1])/100;a.setState({data:{labels:r,datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",pointBorderColor:"rgb(255,255,255,0)",borderColor:"#2bcbba",data:n}]},currentValue:o})})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"sumObjectsByKey",value:function(e){return e.reduce(function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=(e[a]||0)+t[a]);return e},{})}},{key:"componentDidMount",value:function(){var e=this,t=new Date,a=t.getFullYear()-1+"-"+(t.getMonth()+1)+"-"+t.getDate();this.props.subportfolios.map(function(t){t.date_sold||(t.date_bought>a?e.fetchOneYearTradingData(t,a):e.fetchFiveYearTradingData(t,a))})}},{key:"fetchFiveYearTradingData",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{className:"grey-border portfolio-card col-2"},o.a.createElement("h4",null,"Portfolio Snapshot"),o.a.createElement("h6",null,"current value: $",this.state.currentValue.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," | account balance: $",this.props.accountBalance.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")," "),o.a.createElement(w,{data:this.state.data,legend:this.state.legend,options:this.state.options,height:120}))}}]),t}(r.Component);var oe=Object(f.b)(function(e){return{api:e.api}})(re),se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={Technology:0,Healthcare:0,Energy:0,Industrials:0,"Financial Services":0,"Basic Materials":0,"Consumer Cyclical":0,"Consumer Defensive":0,"Real Estate":0},a.getSectorData=function(){return{Technology:a.state.Technology,Healthcare:a.state.Healthcare,Energy:a.state.Energy,Industrials:a.state.Industrials,"Financial Services":a.state["Financial Services"],"Basic Materials":a.state["Basic Materials"],"Consumer Cyclical":a.state["Consumer Cyclical"],"Consumer Defensive":a.state["Consumer Defensive"],"Real Estate":a.state["Real Estate"]}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.hideNavBar(),this.props.portfolio.subportfolios&&this.props.portfolio.subportfolios.map(function(t){e.fetchEquityData(t)})}},{key:"fetchEquityData",value:function(e){var t=this;fetch("https://cloud.iexapis.com/stable/stock/".concat(e.equity.symbol,"/price?token=").concat(this.props.api)).then(function(e){return e.json()}).then(function(a){t.setState(function(t){return Object(b.a)({},e.equity.sector,t[e.equity.sector]+Math.round(a*e.quantity*100)/100)})})}},{key:"renderDefault",value:function(){var e={labels:["2019-04-8","2019-04-9","2019-04-10","2019-04-11","2019-04-12","2019-04-15","2019-04-16","2019-04-17","2019-04-18","2019-04-19"],datasets:[{label:"",backgroundColor:"rgb(0,0,0,0)",lineTension:.1,borderColor:"#2bcbba",data:[Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50,Math.floor(31*Math.random())+50]}]};return o.a.createElement("div",{className:"no-portfolio"},o.a.createElement("h3",null," you currently don't have any stocks in your portfolio"),o.a.createElement("div",{className:"eq-chart"},o.a.createElement(w,{data:e,legend:{display:!1},options:{scales:{xAxes:[{ticks:{display:!1,fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}],yAxes:[{ticks:{fontColor:"rgba(255,255,255,1)"},gridLines:{display:!1,color:"rgba(255,255,255,0.5)"}}]}}})),o.a.createElement("div",{className:"btn-div"},o.a.createElement(p.b,{className:"pf-link",to:"/equities"},"Explore Equities"),o.a.createElement(p.b,{className:"pf-link",to:"/account"},"Add Account Balance")))}},{key:"renderPortfolio",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(oe,{subportfolios:this.props.portfolio.subportfolios,accountBalance:this.props.accountBalance}),o.a.createElement(ee,{sectorData:this.getSectorData()}),o.a.createElement(ne,{subportfolios:this.props.portfolio.subportfolios,portfolio:this.props.portfolio}))}},{key:"render",value:function(){return o.a.createElement("div",null,0===this.props.portfolioEquities.length?this.renderDefault():this.renderPortfolio())}}]),t}(r.Component);var le=Object(f.b)(function(e){return{user_id:e.user_id,portfolio:e.portfolio,portfolioEquities:e.portfolioEquities,accountBalance:e.accountBalance,api:e.api}})(se),ie=a(20),ce=(a(180),a(192),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).showNavbar=function(){document.querySelector("#mySideNav").style.width="200px",document.querySelector(".closed-nav").style.color="rgba(0,0,0,0)"},a.hideNavBar=function(){document.querySelector("#mySideNav").style.width="0",document.querySelector(".closed-nav").style.color="rgb(132, 165, 163)"},a.setCurrentUser=function(e){localStorage.setItem("jwt",e.jwt),a.props.dispatch({type:"SET_USER",payload:e}),a.fetchPortfolioEquities(e)},a.logout=function(){localStorage.removeItem("jwt"),a.props.dispatch({type:"SET_USER",payload:null}),a.props.dispatch({type:"SET_PORTFOLIO",payload:{}}),a.props.dispatch({type:"SET_PORTFOLIO_EQUITIES",payload:[]})},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.hideNavBar();var t=localStorage.getItem("jwt");t&&fetch("".concat(this.props.url,"/api/v1/auto_login"),{headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){t.errors?alert(t.errors):(e.props.dispatch({type:"SET_USER",payload:t.id}),e.fetchPortfolioEquities(t.id),e.fetchDashboards())})}},{key:"fetchPortfolioEquities",value:function(e){var t=this;fetch("".concat(this.props.url,"/api/v1/portfolios")).then(function(e){return e.json()}).then(function(a){var n=a.find(function(t){return t.user_id===e});if(n){var r=n.subportfolios.map(function(e){return e.equity});t.props.dispatch({type:"SET_PORTFOLIO",payload:n}),t.props.dispatch({type:"SET_PORTFOLIO_EQUITIES",payload:r}),t.props.dispatch({type:"SET_ACCOUNT_BALANCE",payload:n.account_balance})}})}},{key:"fetchDashboards",value:function(){var e=this;fetch("".concat(this.props.url,"/api/v1/dashboards")).then(function(e){return e.json()}).then(function(t){var a=t.filter(function(t){return t.user_id===e.props.user_id}),n=a.map(function(e){return e.equities}).flat();e.props.dispatch({type:"SET_DASHBOARDS",payload:a}),e.props.dispatch({type:"SET_DASHBOARD_EQUITIES",payload:n})})}},{key:"renderNavbar",value:function(){return o.a.createElement("nav",null,this.props.user_id?o.a.createElement("div",{id:"mySideNav",className:"sidenav"},o.a.createElement("button",{className:"closebtn",onClick:this.hideNavBar},"\u25c0"),o.a.createElement("div",{className:"nav"},o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/dashboards"},"DASHBOARDS"),o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/equities"},"EQUITIES"),o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/portfolio"},"PORTFOLIO"),o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/account"},"ACCOUNT"),o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},onClick:this.logout,to:"/home"},"LOGOUT"))):o.a.createElement("div",{id:"mySideNav",className:"sidenav"},o.a.createElement("button",{className:"closebtn",onClick:this.hideNavBar},"\u25c0"),o.a.createElement("div",{className:"nav"},o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/home"},"HOME"),o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/login"},"LOGIN"),o.a.createElement(p.b,{className:"navlink",activeStyle:{color:"white"},to:"/equities"},"EXPLORE"))))}},{key:"renderNotLoggedIn",value:function(){var e=this;return o.a.createElement(r.Fragment,null,o.a.createElement(ie.c,null,o.a.createElement(ie.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(m,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{path:"/home",render:function(t){return o.a.createElement(m,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{path:"/login/signup",component:function(t){return o.a.createElement(v,Object.assign({},t,{view:"signup",setCurrentUser:e.setCurrentUser,hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{path:"/login",component:function(t){return o.a.createElement(v,Object.assign({},t,{setCurrentUser:e.setCurrentUser,hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{path:"/equities/:view",component:function(t){return o.a.createElement(Z,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{path:"/equities",component:function(t){return o.a.createElement(Z,Object.assign({},t,{view:"top",hideNavBar:e.hideNavBar}))}})))}},{key:"renderLoggedIn",value:function(){var e=this;return o.a.createElement(r.Fragment,null,o.a.createElement(ie.c,null,o.a.createElement(ie.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(P,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{exact:!0,path:"/dashboards/:name/edit",component:I}),o.a.createElement(ie.a,{exact:!0,path:"/dashboards/:name",render:function(t){return o.a.createElement(P,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{exact:!0,path:"/dashboards",render:function(t){return o.a.createElement(P,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{exact:!0,path:"/equities/:view",component:function(t){return o.a.createElement(Z,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{exact:!0,path:"/equities",component:function(t){return o.a.createElement(Z,Object.assign({},t,{hideNavBar:e.hideNavBar,view:"top"}))}}),o.a.createElement(ie.a,{exact:!0,path:"/portfolio",render:function(t){return o.a.createElement(le,Object.assign({},t,{hideNavBar:e.hideNavBar}))}}),o.a.createElement(ie.a,{exact:!0,path:"/account",component:function(t){return o.a.createElement(g,Object.assign({},t,{hideNavBar:e.hideNavBar}))}})))}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("button",{className:"closed-nav",onClick:this.showNavbar},"\u25b6"),this.props.navbar?this.renderNavbar():null,this.props.user_id?this.renderLoggedIn():this.renderNotLoggedIn())}}]),t}(r.Component));var ue=Object(f.b)(function(e){return{navbar:e.navbar,user_id:e.user_id,dashboards:e.dashboards,portfolio:e.portfolio,portfolioEquities:e.portfolioEquities,accountBalance:e.accountBalance,url:e.url}})(ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=a(19),he=a(52),pe=a(74),me=a(75),be={user_id:null,navbar:!0,dashboards:[],dashboardEquities:[],portfolio:{},portfolioEquities:[],search:"",accountBalance:0,url:"http://localhost:3000/",iex:"https://cloud.iexapis.com/stable",version:"stable",api:"pk_93e6657143424d38a96b399b21afad34"},fe={key:"root",storage:a.n(me).a},Ee=Object(he.a)(fe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_NAVBAR":return Object(n.a)({},e,{navbar:!e.navbar});case"SET_DASHBOARDS":return Object(n.a)({},e,{dashboards:t.payload.sort(function(e,t){return e.id<t.id?-1:t.id<e.id?1:0})});case"SET_USER":return Object(n.a)({},e,{user_id:t.payload});case"SET_PORTFOLIO":return Object(n.a)({},e,{portfolio:t.payload});case"SET_PORTFOLIO_EQUITIES":return Object(n.a)({},e,{portfolioEquities:t.payload});case"SET_DASHBOARD_EQUITIES":return Object(n.a)({},e,{dashboardEquities:t.payload});case"SET_ACCOUNT_BALANCE":return Object(n.a)({},e,{accountBalance:t.payload});case"SEARCH_EQUITY":return Object(n.a)({},e,{search:t.payload});default:return e}});var ve=Object(de.c)(Ee),ye=Object(he.b)(ve);l.a.render(o.a.createElement(f.a,{store:ve},o.a.createElement(pe.a,{loading:null,persistor:ye},o.a.createElement(p.a,null,o.a.createElement(ue,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){e.exports=a(195)},81:function(e,t,a){},86:function(e,t,a){e.exports=a.p+"static/media/logo.f7272f27.png"}},[[76,1,2]]]);
//# sourceMappingURL=main.90b0a66e.chunk.js.map